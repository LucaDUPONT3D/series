{% extends 'base.html.twig' %}

{% block body %}
<h1>Test</h1>

{# Création de variable #}
{% set name = "Luca" %}
{# ~ Symbole de concaténation #}
<h2>Hello {{ name ~ " " ~ name }} !</h2>
<h2>Hello {{ name }} {{ name }} !</h2>

{# Création d'un tableau #}
{% set colors = ["red","purple","green","yellow","blue"] %}

{# Boucler sur un tableau #}
{% for color in colors %}
    <div style="background-color: {{ color }}">{{ color }}</div>
    {# Usage de loop, variable créée par la boucle for #}
    {% if loop.first %}
        <div>Première itération</div>
    {% endif %}

    {# index de l'élément #}
    <div>Index de l'élément courant : {{ loop.index }} / {{ loop.length }}</div>

    {% if loop.last %}
        <div>Dernière itération</div>
    {% endif %}
    {# si tableau est vide alors on passe dasn le else #}
{% else %}
    <div>Pas d'élément</div>
{% endfor %}

{# Manipulation d'objet #}
{% set serie = {
    title : "LOTR",
    year : 2022,
    platform : "Amazon"} %}

<h2>Titre de la série : {{ serie.title }}</h2>

{# Boucler sur un objet #}
{% for key,val in serie %}
    <div>{{ key }} : {{ val }}</div>
{% endfor %}

{# Les filtres #}
<h2>Les filtres</h2>
{# Le chainage est possible #}
<div>{{ name|upper|lower|capitalize }} : {{ name|length }} lettres</div>
<div>{{ colors | join("-") }}</div>
<div>Date du jour : {{ "now" | date("d-m-Y") }}</div>
{% endblock %}

{% block title %}
    {{ parent() }} | Test
{% endblock %}